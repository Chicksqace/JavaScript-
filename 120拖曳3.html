<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			#box1{
				width: 100px;
				height: 100px;
				background-color: red;
				position: absolute;
			}
			#box2{
				width: 100px;
				height: 100px;
				background-color: yellow;
				position: absolute;
				left: 200px;
				top: 200px;
			}
		</style>
		<script>
			window.onload=function(){
				// 拖拽box1元素
				// 拖拽的流程
				// 1.当鼠标在背拖拽元素上按下时，开始拖拽 onmousedown
				var box1=document.getElementById("box1");
				box1.onmousedown=function(event){
					// div的偏移量 鼠标.clentX-元素.offsetLeft
					// div的偏移量 鼠标.clentY-元素.offsetTop
					var ol=event.clientX-box1.offsetLeft;
					var ot=event.clientY-box1.offsetTop;
					
					
					// 2.当鼠标移动时被拖拽元素跟随鼠标移动 onmousemove
					document.onmousemove=function(event){
						// 当鼠标移动时被拖拽元素跟随鼠标移动onmousemove=
						// 如果在外面绑定就是一开始就动了
						// 获取鼠标位置
						var left=event.clientX -ol;
						var top=event.clientY -ot;
						// 修改box1的位置
						box1.style.left=left+"px";
						box1.style.top=top+"px";
					}
				// 3.鼠标松开时，被拖拽元素固定在当前位置 onmouseup
				document.onmouseup=function(){
					// 鼠标松开事件
					// 取消document的onmousemove事件
					document.onmousemove=null;
					document.onmouseup=null;
					// alert("鼠标松开了")；
					
				}
				// 当我们拖拽一个网页中的内容时，游览器会默认搜索引擎中搜索内容
				// 此时会导致拖拽功能的异常，这个是浏览器提供的默认行为
				// 如果不希望发生这个行为没怎可以通过return false取消默认行为
					return false;
			}
			}
		</script>
	</head>
	<body>
		我是一段文字
		<div id="box1"></div>
		<div id="box2"></div>
	</body>
</html>